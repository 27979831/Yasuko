var General={isMobile:!1,isWechat:!1,viewWidth:$(window).width(),init:function(){var o=window;o.document,navigator.userAgent.toLowerCase(),o.navigator.appVersion.match(/android/gi),o.navigator.appVersion.match(/iphone/gi);$("body").hasClass("post-template")&&General.updateImageWidth(),General.webFontLoader(),General.scrollToPos(),General.arrowEvent()},updateImageWidth:function(){function o(){var o=$(this),a=e.outerWidth(),A=this.naturalWidth;A>=a?o.addClass("full-img"):o.removeClass("full-img")}function a(){A.each(o)}var e=$(".post-content"),A=$(".single-post-inner img").on("load",o);a()},webFontLoader:function(){console.log("加载字体"),WebFontConfig={custom:{families:["Exo"],urls:["../css/font.min.css"]}},WebFont.load({custom:{families:["Exo"]}})},arrowEvent:function(){$(".arrow_down").click(function(){return $("html,body").animate({scrollTop:$(window).height()-20},600,function(){window.location.hash="#"}),!1})},scrollToPos:function(o){var a="我要飞到最高",e=(o||$(window).height(),$('<a href="#" id="to-top" title="'+a+'"> <div class="to-top-wrap"></div></a>').appendTo("body"));$(window).scroll(function(){console.log("滚动2"),$(window).scrollTop()>$(window).height()?e.fadeIn(500):e.fadeOut(500)}),e.click(function(o){o.preventDefault(),$("html,body").animate({scrollTop:0},666,function(){window.location.hash="#"}),console.log("我跳")})}},ImageSmartLoader={isWebPSupported:!1,isImageCompressed:!1,init:function(){ImageSmartLoader.webPCheck()},isCompressedCheck:function(){},webPCheck:function(o,a){var e={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"},A=new Image;A.onload=function(){A.width>0&&A.height>0;console.log("支持Webp"),ImageSmartLoader.isWebPSupported=!0,ImageSmartLoader.webPLoader()},A.onerror=function(){console.log("不支持Webp"),ImageSmartLoader.isWebPSupported=!1,ImageSmartLoader.webPLoader()},A.src="data:image/webp;base64,"+e.lossy},imgLoader:function(){console.log("加载默认图片")},webPLoader:function(){console.log("加载webP"),1==ImageSmartLoader.isWebPSupported?General.viewWidth<=1024?$(".lazy").lazyload({advanced_load:!0,data_attribute:"url",webP_load:!0,is_scale:!0,scale_width:750}):$(".lazy").lazyload({advanced_load:!0,data_attribute:"url",webP_load:!0,is_scale:!1}):General.viewWidth<=1024?$(".lazy").lazyload({advanced_load:!0,data_attribute:"url",webP_load:!1,is_scale:!0,scale_width:750}):$(".lazy").lazyload({advanced_load:!0,data_attribute:"url",webP_load:!1,is_scale:!1})}};$(document).ready(function(){General.init(),ImageSmartLoader.init()});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJhc2UuanMiXSwibmFtZXMiOlsiR2VuZXJhbCIsImlzTW9iaWxlIiwiaXNXZWNoYXQiLCJ2aWV3V2lkdGgiLCIkIiwid2luZG93Iiwid2lkdGgiLCJpbml0Iiwid2luIiwiZG9jdW1lbnQiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJ0b0xvd2VyQ2FzZSIsImFwcFZlcnNpb24iLCJtYXRjaCIsImhhc0NsYXNzIiwidXBkYXRlSW1hZ2VXaWR0aCIsIndlYkZvbnRMb2FkZXIiLCJzY3JvbGxUb1BvcyIsImFycm93RXZlbnQiLCIkdGhpcyIsInRoaXMiLCJjb250ZW50V2lkdGgiLCIkcG9zdENvbnRlbnQiLCJvdXRlcldpZHRoIiwiaW1hZ2VXaWR0aCIsIm5hdHVyYWxXaWR0aCIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJjYXNwZXJGdWxsSW1nIiwiJGltZyIsImVhY2giLCJvbiIsImNvbnNvbGUiLCJsb2ciLCJXZWJGb250Q29uZmlnIiwiY3VzdG9tIiwiZmFtaWxpZXMiLCJ1cmxzIiwiV2ViRm9udCIsImxvYWQiLCJjbGljayIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJoZWlnaHQiLCJsb2NhdGlvbiIsImhhc2giLCJwb3NpdGlvbiIsIlNUUl9UT19UT1AiLCJidXR0b24iLCJhcHBlbmRUbyIsInNjcm9sbCIsImZhZGVJbiIsImZhZGVPdXQiLCJlIiwicHJldmVudERlZmF1bHQiLCJJbWFnZVNtYXJ0TG9hZGVyIiwiaXNXZWJQU3VwcG9ydGVkIiwiaXNJbWFnZUNvbXByZXNzZWQiLCJ3ZWJQQ2hlY2siLCJpc0NvbXByZXNzZWRDaGVjayIsImZlYXR1cmUiLCJjYWxsYmFjayIsIlRlc3RJbWFnZXMiLCJsb3NzeSIsImxvc3NsZXNzIiwiYWxwaGEiLCJhbmltYXRpb24iLCJpbWciLCJJbWFnZSIsIm9ubG9hZCIsIndlYlBMb2FkZXIiLCJvbmVycm9yIiwic3JjIiwiaW1nTG9hZGVyIiwibGF6eWxvYWQiLCJhZHZhbmNlZF9sb2FkIiwiZGF0YV9hdHRyaWJ1dGUiLCJ3ZWJQX2xvYWQiLCJpc19zY2FsZSIsInNjYWxlX3dpZHRoIiwicmVhZHkiXSwibWFwcGluZ3MiOiJBQUVJLEdBQUlBLFVBQ0FDLFVBQVUsRUFDVkMsVUFBVSxFQUNWQyxVQUFXQyxFQUFFQyxRQUFRQyxRQUNyQkMsS0FBTSxXQUNGLEdBQUlDLEdBQU1ILE1BQ0FHLEdBQUlDLFNBQ0xDLFVBQVVDLFVBQVVDLGNBQ2JKLEVBQUlFLFVBQVVHLFdBQVdDLE1BQU0sYUFDaENOLEVBQUlFLFVBQVVHLFdBQVdDLE1BQU0sV0FDMUNWLEdBQUUsUUFBUVcsU0FBUyxrQkFDbkJmLFFBQVFnQixtQkFFWmhCLFFBQVFpQixnQkFDUmpCLFFBQVFrQixjQUNSbEIsUUFBUW1CLGNBRVpILGlCQUFrQixXQUlkLFFBQVNBLEtBQ0wsR0FBSUksR0FBUWhCLEVBQUVpQixNQUNWQyxFQUFlQyxFQUFhQyxhQUM1QkMsRUFBYUosS0FBS0ssWUFFbEJELElBQWNILEVBQ2RGLEVBQU1PLFNBQVMsWUFFZlAsRUFBTVEsWUFBWSxZQU0xQixRQUFTQyxLQUNMQyxFQUFLQyxLQUFLZixHQWxCZCxHQUFJTyxHQUFlbkIsRUFBRSxpQkFlakIwQixFQUFPMUIsRUFBRSwwQkFBMEI0QixHQUFHLE9BQVFoQixFQU1sRGEsTUFFSlosY0FBZSxXQUNYZ0IsUUFBUUMsSUFBSSxRQUNaQyxlQUNJQyxRQUNJQyxVQUFXLE9BQ1hDLE1BQU8seUJBR2ZDLFFBQVFDLE1BQ0pKLFFBQ0lDLFVBQVcsV0FLdkJsQixXQUFZLFdBQ0pmLEVBQUUsZUFBZXFDLE1BQU0sV0FNbkIsTUFMQXJDLEdBQUUsYUFBYXNDLFNBQ1hDLFVBQVd2QyxFQUFFQyxRQUFRdUMsU0FBVyxJQUNqQyxJQUFLLFdBQ0p2QyxPQUFPd0MsU0FBU0MsS0FBTyxPQUVwQixLQUluQjVCLFlBQWEsU0FBUzZCLEdBQ2xCLEdBQUlDLEdBQWEsU0FFYkMsR0FEY0YsR0FBWTNDLEVBQUVDLFFBQVF1QyxTQUMzQnhDLEVBQUUsa0NBQW9DNEMsRUFBYSwwQ0FBMENFLFNBQVMsUUFDbkg5QyxHQUFFQyxRQUFROEMsT0FBTyxXQUNibEIsUUFBUUMsSUFBSSxPQUNSOUIsRUFBRUMsUUFBUXNDLFlBQWN2QyxFQUFFQyxRQUFRdUMsU0FDbENLLEVBQU9HLE9BQU8sS0FFZEgsRUFBT0ksUUFBUSxPQUl2QkosRUFBT1IsTUFBTSxTQUFTYSxHQUNsQkEsRUFBRUMsaUJBQ0ZuRCxFQUFFLGFBQWFzQyxTQUNYQyxVQUFXLEdBQ1osSUFBSyxXQUNKdEMsT0FBT3dDLFNBQVNDLEtBQU8sTUFFM0JiLFFBQVFDLElBQUksVUFPcEJzQixrQkFDQUMsaUJBQWlCLEVBQ2pCQyxtQkFBbUIsRUFDbkJuRCxLQUFNLFdBQ0ZpRCxpQkFBaUJHLGFBRXJCQyxrQkFBbUIsYUFHbkJELFVBQVcsU0FBU0UsRUFBU0MsR0FDekIsR0FBSUMsSUFDQUMsTUFBTywyREFDUEMsU0FBVSxtREFDVkMsTUFBTyxtSEFDUEMsVUFBVyw0SEFFWEMsRUFBTSxHQUFJQyxNQUNkRCxHQUFJRSxPQUFTLFdBQ0tGLEVBQUk5RCxNQUFRLEdBQU84RCxFQUFJeEIsT0FBUyxDQUM5Q1gsU0FBUUMsSUFBSSxVQUVac0IsaUJBQWlCQyxpQkFBa0IsRUFDbkNELGlCQUFpQmUsY0FHckJILEVBQUlJLFFBQVUsV0FDVnZDLFFBQVFDLElBQUksV0FFWnNCLGlCQUFpQkMsaUJBQWtCLEVBQ25DRCxpQkFBaUJlLGNBR3JCSCxFQUFJSyxJQUFNLDBCQUE0QlYsRUFBa0IsT0FFNURXLFVBQVcsV0FDUHpDLFFBQVFDLElBQUksV0FFaEJxQyxXQUFZLFdBQ1J0QyxRQUFRQyxJQUFJLFVBRTRCLEdBQXBDc0IsaUJBQWlCQyxnQkFDYnpELFFBQVFHLFdBQWEsS0FDckJDLEVBQUUsU0FBU3VFLFVBQ1BDLGVBQWUsRUFDZkMsZUFBZ0IsTUFDaEJDLFdBQVcsRUFDWEMsVUFBVSxFQUNWQyxZQUFhLE1BSWpCNUUsRUFBRSxTQUFTdUUsVUFDUEMsZUFBZSxFQUNmQyxlQUFnQixNQUNoQkMsV0FBVyxFQUNYQyxVQUFVLElBTWQvRSxRQUFRRyxXQUFhLEtBQ3JCQyxFQUFFLFNBQVN1RSxVQUNQQyxlQUFlLEVBQ2ZDLGVBQWdCLE1BQ2hCQyxXQUFXLEVBQ1hDLFVBQVUsRUFDVkMsWUFBYSxNQUlqQjVFLEVBQUUsU0FBU3VFLFVBQ1BDLGVBQWUsRUFDZkMsZUFBZ0IsTUFDaEJDLFdBQVcsRUFDWEMsVUFBVSxLQVc5QjNFLEdBQUVLLFVBQVV3RSxNQUFNLFdBQ2RqRixRQUFRTyxPQUNSaUQsaUJBQWlCakQiLCJmaWxlIjoiZGV2Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuXG4gICAgdmFyIEdlbmVyYWwgPSB7XG4gICAgICAgIGlzTW9iaWxlOiBmYWxzZSxcbiAgICAgICAgaXNXZWNoYXQ6IGZhbHNlLFxuICAgICAgICB2aWV3V2lkdGg6ICQod2luZG93KS53aWR0aCgpLFxuICAgICAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB3aW4gPSB3aW5kb3c7XG4gICAgICAgICAgICB2YXIgZG9jID0gd2luLmRvY3VtZW50O1xuICAgICAgICAgICAgdmFyIFVBID0gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICB2YXIgaXNBbmRyb2lkID0gd2luLm5hdmlnYXRvci5hcHBWZXJzaW9uLm1hdGNoKC9hbmRyb2lkL2dpKTtcbiAgICAgICAgICAgIHZhciBpc0lQaG9uZSA9IHdpbi5uYXZpZ2F0b3IuYXBwVmVyc2lvbi5tYXRjaCgvaXBob25lL2dpKTtcbiAgICAgICAgICAgIGlmICgkKCdib2R5JykuaGFzQ2xhc3MoJ3Bvc3QtdGVtcGxhdGUnKSkge1xuICAgICAgICAgICAgICAgIEdlbmVyYWwudXBkYXRlSW1hZ2VXaWR0aCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgR2VuZXJhbC53ZWJGb250TG9hZGVyKCk7XG4gICAgICAgICAgICBHZW5lcmFsLnNjcm9sbFRvUG9zKCk7XG4gICAgICAgICAgICBHZW5lcmFsLmFycm93RXZlbnQoKTtcbiAgICAgICAgfSxcbiAgICAgICAgdXBkYXRlSW1hZ2VXaWR0aDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgJHBvc3RDb250ZW50ID0gJChcIi5wb3N0LWNvbnRlbnRcIik7XG4gICAgICAgICAgICAvLyAkcG9zdENvbnRlbnQuZml0VmlkcygpO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiB1cGRhdGVJbWFnZVdpZHRoKCkge1xuICAgICAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRXaWR0aCA9ICRwb3N0Q29udGVudC5vdXRlcldpZHRoKCksIC8vIFdpZHRoIG9mIHRoZSBjb250ZW50XG4gICAgICAgICAgICAgICAgICAgIGltYWdlV2lkdGggPSB0aGlzLm5hdHVyYWxXaWR0aDsgLy8gT3JpZ2luYWwgaW1hZ2UgcmVzb2x1dGlvblxuXG4gICAgICAgICAgICAgICAgaWYgKGltYWdlV2lkdGggPj0gY29udGVudFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICR0aGlzLmFkZENsYXNzKCdmdWxsLWltZycpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICR0aGlzLnJlbW92ZUNsYXNzKCdmdWxsLWltZycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyICRpbWcgPSAkKFwiLnNpbmdsZS1wb3N0LWlubmVyIGltZ1wiKS5vbignbG9hZCcsIHVwZGF0ZUltYWdlV2lkdGgpO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBjYXNwZXJGdWxsSW1nKCkge1xuICAgICAgICAgICAgICAgICRpbWcuZWFjaCh1cGRhdGVJbWFnZVdpZHRoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzcGVyRnVsbEltZygpO1xuICAgICAgICB9LFxuICAgICAgICB3ZWJGb250TG9hZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfliqDovb3lrZfkvZMnKTtcbiAgICAgICAgICAgIFdlYkZvbnRDb25maWcgPSB7XG4gICAgICAgICAgICAgICAgY3VzdG9tOiB7XG4gICAgICAgICAgICAgICAgICAgIGZhbWlsaWVzOiBbJ0V4byddLFxuICAgICAgICAgICAgICAgICAgICB1cmxzOiBbJy4uL2Nzcy9mb250Lm1pbi5jc3MnXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBXZWJGb250LmxvYWQoe1xuICAgICAgICAgICAgICAgIGN1c3RvbToge1xuICAgICAgICAgICAgICAgICAgICBmYW1pbGllczogWydFeG8nXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0sXG4gICAgICAgIGFycm93RXZlbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICQoJy5hcnJvd19kb3duJykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJ2h0bWwsYm9keScpLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9wOiAkKHdpbmRvdykuaGVpZ2h0KCkgLSAyMFxuICAgICAgICAgICAgICAgICAgICB9LCA2MDAsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSAnIyc7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvL+W5s+a7kea7muWKqOWIsOmhtumDqFxuICAgICAgICBzY3JvbGxUb1BvczogZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgICAgIHZhciBTVFJfVE9fVE9QID0gJ+aIkeimgemjnuWIsOacgOmrmCcsXG4gICAgICAgICAgICAgICAgY292ZXJIZWlnaHQgPSBwb3NpdGlvbiB8fCAkKHdpbmRvdykuaGVpZ2h0KCk7IC8v6I635b6X5Zu+54mH6auY5bqmXG4gICAgICAgICAgICB2YXIgYnV0dG9uID0gJCgnPGEgaHJlZj1cIiNcIiBpZD1cInRvLXRvcFwiIHRpdGxlPVwiJyArIFNUUl9UT19UT1AgKyAnXCI+IDxkaXYgY2xhc3M9XCJ0by10b3Atd3JhcFwiPjwvZGl2PjwvYT4nKS5hcHBlbmRUbygnYm9keScpO1xuICAgICAgICAgICAgJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5rua5YqoMicpO1xuICAgICAgICAgICAgICAgIGlmICgkKHdpbmRvdykuc2Nyb2xsVG9wKCkgPiAkKHdpbmRvdykuaGVpZ2h0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmZhZGVJbig1MDApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5mYWRlT3V0KDUwMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGJ1dHRvbi5jbGljayhmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICQoJ2h0bWwsYm9keScpLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgICAgICBzY3JvbGxUb3A6IDBcbiAgICAgICAgICAgICAgICB9LCA2NjYsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9ICcjJztcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5oiR6LezJyk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgIH1cblxuXG5cbiAgICB2YXIgSW1hZ2VTbWFydExvYWRlciA9IHtcbiAgICAgICAgaXNXZWJQU3VwcG9ydGVkOiBmYWxzZSxcbiAgICAgICAgaXNJbWFnZUNvbXByZXNzZWQ6IGZhbHNlLFxuICAgICAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIEltYWdlU21hcnRMb2FkZXIud2ViUENoZWNrKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGlzQ29tcHJlc3NlZENoZWNrOiBmdW5jdGlvbigpIHtcblxuICAgICAgICB9LFxuICAgICAgICB3ZWJQQ2hlY2s6IGZ1bmN0aW9uKGZlYXR1cmUsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB2YXIgVGVzdEltYWdlcyA9IHtcbiAgICAgICAgICAgICAgICBsb3NzeTogXCJVa2xHUmlJQUFBQlhSVUpRVmxBNElCWUFBQUF3QVFDZEFTb0JBQUVBRHNEK0phUUFBM0FBQUFBQVwiLFxuICAgICAgICAgICAgICAgIGxvc3NsZXNzOiBcIlVrbEdSaG9BQUFCWFJVSlFWbEE0VEEwQUFBQXZBQUFBRUFjUUVSR0lpUDRIQUE9PVwiLFxuICAgICAgICAgICAgICAgIGFscGhhOiBcIlVrbEdSa29BQUFCWFJVSlFWbEE0V0FvQUFBQVFBQUFBQUFBQUFBQUFRVXhRU0F3QUFBQVJCeEFSL1E5RVJQOERBQUJXVURnZ0dBQUFBQlFCQUowQktnRUFBUUFBQVA0QUFBM0FBUDdtdFFBQUFBPT1cIixcbiAgICAgICAgICAgICAgICBhbmltYXRpb246IFwiVWtsR1JsSUFBQUJYUlVKUVZsQTRXQW9BQUFBU0FBQUFBQUFBQUFBQVFVNUpUUVlBQUFELy8vLy9BQUJCVGsxR0pnQUFBQUFBQUFBQUFBQUFBQUFBQUdRQUFBQldVRGhNRFFBQUFDOEFBQUFRQnhBUkVZaUkvZ2NBXCJcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IChpbWcud2lkdGggPiAwKSAmJiAoaW1nLmhlaWdodCA+IDApO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfmlK/mjIFXZWJwJyk7XG4gICAgICAgICAgICAgICAgLy8gYWxlcnQoJ+aUr+aMgScpXG4gICAgICAgICAgICAgICAgSW1hZ2VTbWFydExvYWRlci5pc1dlYlBTdXBwb3J0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIEltYWdlU21hcnRMb2FkZXIud2ViUExvYWRlcigpO1xuICAgICAgICAgICAgICAgIC8vIGNhbGxiYWNrKGZlYXR1cmUsIHJlc3VsdCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaW1nLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5LiN5pSv5oyBV2VicCcpO1xuICAgICAgICAgICAgICAgIC8vIGFsZXJ0KCfkuI3mlK/mjIEnKVxuICAgICAgICAgICAgICAgIEltYWdlU21hcnRMb2FkZXIuaXNXZWJQU3VwcG9ydGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgSW1hZ2VTbWFydExvYWRlci53ZWJQTG9hZGVyKCk7XG4gICAgICAgICAgICAgICAgLy8gY2FsbGJhY2soZmVhdHVyZSwgZmFsc2UpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGltZy5zcmMgPSBcImRhdGE6aW1hZ2Uvd2VicDtiYXNlNjQsXCIgKyBUZXN0SW1hZ2VzWydsb3NzeSddO1xuICAgICAgICB9LFxuICAgICAgICBpbWdMb2FkZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ+WKoOi9vem7mOiupOWbvueJhycpO1xuICAgICAgICB9LFxuICAgICAgICB3ZWJQTG9hZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfliqDovb13ZWJQJyk7XG4gICAgICAgICAgICAvLyBhbGVydChJbWFnZVNtYXJ0TG9hZGVyLmlzV2ViUFN1cHBvcnRlZCk7XG4gICAgICAgICAgICBpZiAoSW1hZ2VTbWFydExvYWRlci5pc1dlYlBTdXBwb3J0ZWQgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChHZW5lcmFsLnZpZXdXaWR0aCA8PSAxMDI0KSB7XG4gICAgICAgICAgICAgICAgICAgICQoXCIubGF6eVwiKS5sYXp5bG9hZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZHZhbmNlZF9sb2FkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV9hdHRyaWJ1dGU6ICd1cmwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2ViUF9sb2FkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNfc2NhbGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzY2FsZV93aWR0aDogNzUwXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFsZXJ0KCfmma7pgJrmlK/mjIEnKVxuICAgICAgICAgICAgICAgICAgICAkKFwiLmxhenlcIikubGF6eWxvYWQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgYWR2YW5jZWRfbG9hZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfYXR0cmlidXRlOiAndXJsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdlYlBfbG9hZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzX3NjYWxlOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gYWxlcnQoJ+WKoOi9veaZrumAmicpXG4gICAgICAgICAgICAgICAgaWYgKEdlbmVyYWwudmlld1dpZHRoIDw9IDEwMjQpIHtcbiAgICAgICAgICAgICAgICAgICAgJChcIi5sYXp5XCIpLmxhenlsb2FkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkdmFuY2VkX2xvYWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhX2F0dHJpYnV0ZTogJ3VybCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB3ZWJQX2xvYWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNfc2NhbGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzY2FsZV93aWR0aDogNzUwXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFsZXJ0KCfmma7pgJrmlK/mjIEnKVxuICAgICAgICAgICAgICAgICAgICAkKFwiLmxhenlcIikubGF6eWxvYWQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgYWR2YW5jZWRfbG9hZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfYXR0cmlidXRlOiAndXJsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdlYlBfbG9hZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc19zY2FsZTogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICB9XG5cblxuXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgICAgIEdlbmVyYWwuaW5pdCgpO1xuICAgICAgICBJbWFnZVNtYXJ0TG9hZGVyLmluaXQoKTtcbiAgICB9KVxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
